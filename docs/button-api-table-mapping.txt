===============================================================================
                    WhereWeMeets ë²„íŠ¼ â†’ API â†’ í…Œì´ë¸” ë§¤í•‘ ë¶„ì„
===============================================================================

ğŸ“… ì‘ì„±ì¼: 2024ë…„
ğŸ” ë¶„ì„ ëª©ì : í”„ë¡ íŠ¸ì—”ë“œ ë²„íŠ¼ í´ë¦­ ì‹œ í˜¸ì¶œë˜ëŠ” APIì™€ ë°ì´í„° ì €ì¥ í…Œì´ë¸” ê´€ê³„ íŒŒì•…
ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤: MongoDB (ì»¬ë ‰ì…˜ ê¸°ë°˜)

===============================================================================
                           1. ë¡œê·¸ì¸/íšŒì›ê°€ì… ê´€ë ¨
===============================================================================

ğŸ” **íšŒì›ê°€ì… ë²„íŠ¼**
   ğŸ“ ìœ„ì¹˜: client/src/pages/RegisterPage.js â†’ handleSubmit()
   ğŸŒ API: POST /auth/register
   ğŸ“Š í…Œì´ë¸”: User ì»¬ë ‰ì…˜
   ğŸ’¾ ì €ì¥ ë°ì´í„°:
      - name, email, password (bcrypt í•´ì‹±)
      - subscription: 'premium' (ê¸°ë³¸ê°’)
      - analytics.loginHistory[] (ë¡œê·¸ì¸ ê¸°ë¡ ë°°ì—´)
      - socialLogin.provider: 'local'
      - createdAt, updatedAt

ğŸ” **ë¡œê·¸ì¸ ë²„íŠ¼**
   ğŸ“ ìœ„ì¹˜: client/src/pages/LoginPage.js â†’ handleSubmit()
   ğŸŒ API: POST /auth/login
   ğŸ“Š í…Œì´ë¸”: User ì»¬ë ‰ì…˜ (ê¸°ì¡´ ì‚¬ìš©ì ì—…ë°ì´íŠ¸)
   ğŸ’¾ ì €ì¥ ë°ì´í„°:
      - analytics.loginHistory[] ì— ìƒˆ ë¡œê·¸ì¸ ê¸°ë¡ ì¶”ê°€
      - analytics.lastActivity ì—…ë°ì´íŠ¸

ğŸ” **ì†Œì…œ ë¡œê·¸ì¸ ë²„íŠ¼**
   ğŸ“ ìœ„ì¹˜: client/src/pages/LoginPage.js â†’ handleSocialLogin()
   ğŸŒ API: POST /auth/social-login
   ğŸ“Š í…Œì´ë¸”: User ì»¬ë ‰ì…˜
   ğŸ’¾ ì €ì¥ ë°ì´í„°:
      - ì‹ ê·œ: ì „ì²´ ì‚¬ìš©ì ì •ë³´ + socialLogin ì •ë³´
      - ê¸°ì¡´: socialLogin.provider, socialLogin.providerId ì—…ë°ì´íŠ¸

===============================================================================
                              2. íˆ¬í‘œ ì‹œìŠ¤í…œ ê´€ë ¨
===============================================================================

ğŸ—³ï¸ **íˆ¬í‘œí•˜ê¸° ë²„íŠ¼**
   ğŸ“ ìœ„ì¹˜: client/src/components/GroupVoting.js â†’ handleVote()
   ğŸŒ API: POST /votes/:meetingId/vote
   ğŸ“Š í…Œì´ë¸”: Vote ì»¬ë ‰ì…˜
   ğŸ’¾ ì €ì¥ ë°ì´í„°:
      - meetingId (String, ì¸ë±ìŠ¤)
      - placeId (String)
      - placeName (String)
      - voter: { id, name, email }
      - votedAt (Date)
   ğŸ”„ íŠ¹ì´ì‚¬í•­: 
      - ê¸°ì¡´ íˆ¬í‘œ ìˆìœ¼ë©´ ì—…ë°ì´íŠ¸/ì‚­ì œ
      - ë³µí•© ì¸ë±ìŠ¤: meetingId + voter.id (unique)

ğŸ‘¥ **ì°¸ê°€ì ë“±ë¡ ë²„íŠ¼**
   ğŸ“ ìœ„ì¹˜: client/src/components/GroupVoting.js â†’ handleJoinMeeting()
   ğŸŒ API: POST /votes/:meetingId/participants
   ğŸ“Š í…Œì´ë¸”: ë³„ë„ í…Œì´ë¸” ì—†ìŒ (íˆ¬í‘œ ì‹œìŠ¤í…œì—ì„œ ê´€ë¦¬)
   ğŸ’¾ ì €ì¥ ë°ì´í„°: localStorage + ë©”ëª¨ë¦¬ ê´€ë¦¬

ğŸ“ **í›„ë³´ ì¥ì†Œ ì¶”ê°€ ë²„íŠ¼**
   ğŸ“ ìœ„ì¹˜: client/src/pages/MeetingPlannerPage.js â†’ handlePlaceSelected()
   ğŸŒ API: POST /votes/:meetingId/candidates
   ğŸ“Š í…Œì´ë¸”: CandidatePlace ì»¬ë ‰ì…˜
   ğŸ’¾ ì €ì¥ ë°ì´í„°:
      - meetingId (String, ì¸ë±ìŠ¤)
      - placeId (String)
      - name, category, address
      - coordinates: { lat, lng }
      - rating, photos[], additionalInfo
      - addedBy: { id, name, email }
      - addedAt (Date)
   ğŸ”„ íŠ¹ì´ì‚¬í•­: ë³µí•© ì¸ë±ìŠ¤ meetingId + placeId (unique)

ğŸ—‘ï¸ **í›„ë³´ ì¥ì†Œ ì‚­ì œ ë²„íŠ¼**
   ğŸ“ ìœ„ì¹˜: client/src/components/GroupVoting.js â†’ handleDeletePlace()
   ğŸŒ API: DELETE /votes/:meetingId/candidates/:placeId
   ğŸ“Š í…Œì´ë¸”: CandidatePlace ì»¬ë ‰ì…˜
   ğŸ’¾ ë°ì´í„° ë³€ê²½: í•´ë‹¹ ë¬¸ì„œ ì‚­ì œ

===============================================================================
                            3. ë¯¸íŒ… íˆìŠ¤í† ë¦¬ ê´€ë ¨
===============================================================================

âœ… **ê²°ê³¼ í™•ì • ë²„íŠ¼**
   ğŸ“ ìœ„ì¹˜: client/src/components/GroupVoting.js â†’ handleConfirmResult()
   ğŸŒ API: POST /users/:userId/history
   ğŸ“Š í…Œì´ë¸”: UserMeetingHistory ì»¬ë ‰ì…˜
   ğŸ’¾ ì €ì¥ ë°ì´í„°:
      - userId (String, ì¸ë±ìŠ¤)
      - meetingId (String)
      - title, description
      - role: 'host' | 'participant'
      - participantCount (Number)
      - selectedPlace: { id, name, category, address, rating, coordinates }
      - candidatePlaces[]: { id, name, category, address, rating, votes }
      - totalVotes, selectionMethod: 'voting'
      - meetingStatus: 'completed'
      - createdAt, completedAt
   ğŸ”„ íŠ¹ì´ì‚¬í•­: upsert ë°©ì‹ (userId + meetingId unique)

ğŸ”„ **ë¯¸íŒ… ìƒíƒœ ë³€ê²½ ë²„íŠ¼**
   ğŸ“ ìœ„ì¹˜: client/src/components/MeetingHistory.js â†’ updateMeetingStatus()
   ğŸŒ API: PATCH /users/:userId/history/:meetingId/status
   ğŸ“Š í…Œì´ë¸”: UserMeetingHistory ì»¬ë ‰ì…˜
   ğŸ’¾ ë°ì´í„° ë³€ê²½:
      - meetingStatus: 'planning' | 'completed' | 'cancelled'
      - completedAt (completed ì‹œ)
      - notes (ì˜µì…˜)

ğŸ—‘ï¸ **ë¯¸íŒ… ì‚­ì œ ë²„íŠ¼**
   ğŸ“ ìœ„ì¹˜: client/src/components/MeetingHistory.js â†’ deleteMeeting()
   ğŸŒ API: DELETE /users/:userId/history/:meetingId
   ğŸ“Š í…Œì´ë¸”: UserMeetingHistory ì»¬ë ‰ì…˜
   ğŸ’¾ ë°ì´í„° ë³€ê²½: í•´ë‹¹ ë¬¸ì„œ ì‚­ì œ

ğŸ“Š **íˆìŠ¤í† ë¦¬ ì¡°íšŒ**
   ğŸ“ ìœ„ì¹˜: client/src/components/MeetingHistory.js â†’ fetchHistory()
   ğŸŒ API: GET /users/:userId/history
   ğŸ“Š í…Œì´ë¸”: UserMeetingHistory ì»¬ë ‰ì…˜ (ì½ê¸° ì „ìš©)
   ğŸ’¾ ë°ì´í„° ë³€ê²½: ì—†ìŒ (ì¡°íšŒë§Œ)

ğŸ“ˆ **í†µê³„ ì¡°íšŒ**
   ğŸ“ ìœ„ì¹˜: client/src/components/MeetingHistory.js â†’ fetchStats()
   ğŸŒ API: GET /users/:userId/stats
   ğŸ“Š í…Œì´ë¸”: UserMeetingHistory ì»¬ë ‰ì…˜ (ì§‘ê³„ ì¿¼ë¦¬)
   ğŸ’¾ ë°ì´í„° ë³€ê²½: ì—†ìŒ (ì§‘ê³„ ê²°ê³¼ ë°˜í™˜)

===============================================================================
                             4. ë¯¸íŒ… ê´€ë¦¬ ê´€ë ¨
===============================================================================

ğŸ“ **ë¯¸íŒ… ìƒì„± ë²„íŠ¼** (ì•„ì§ í”„ë¡ íŠ¸ì—”ë“œ ë¯¸êµ¬í˜„)
   ğŸ“ ìœ„ì¹˜: ë¯¸êµ¬í˜„
   ğŸŒ API: POST /meetings
   ğŸ“Š í…Œì´ë¸”: Meeting ì»¬ë ‰ì…˜
   ğŸ’¾ ì €ì¥ ë°ì´í„°:
      - title, description
      - organizer (ObjectId â†’ User)
      - scheduledDate
      - participants[]: { user, location, preferences, status }
      - status: 'planning'

ğŸ¯ **ìµœì¢… ì¥ì†Œ ì„ íƒ ë²„íŠ¼** (ì•„ì§ í”„ë¡ íŠ¸ì—”ë“œ ë¯¸êµ¬í˜„)
   ğŸ“ ìœ„ì¹˜: ë¯¸êµ¬í˜„
   ğŸŒ API: PUT /meetings/:id/select-location
   ğŸ“Š í…Œì´ë¸”: Meeting ì»¬ë ‰ì…˜
   ğŸ’¾ ë°ì´í„° ë³€ê²½:
      - selectedLocation: { name, address, coordinates, googlePlaceId }
      - status: 'confirmed'

ğŸ—ºï¸ **ì¥ì†Œ ì¶”ì²œ ìƒì„± ë²„íŠ¼** (ì•„ì§ í”„ë¡ íŠ¸ì—”ë“œ ë¯¸êµ¬í˜„)
   ğŸ“ ìœ„ì¹˜: ë¯¸êµ¬í˜„
   ğŸŒ API: POST /meetings/:id/suggest-locations
   ğŸ“Š í…Œì´ë¸”: Meeting ì»¬ë ‰ì…˜
   ğŸ’¾ ë°ì´í„° ë³€ê²½:
      - suggestedLocations[] ë°°ì—´ ì—…ë°ì´íŠ¸

===============================================================================
                           5. ë°ì´í„°ë² ì´ìŠ¤ ì»¬ë ‰ì…˜ êµ¬ì¡°
===============================================================================

ğŸ“Š **User ì»¬ë ‰ì…˜** (ì‚¬ìš©ì ì •ë³´)
   ğŸ”‘ ì£¼ìš” í•„ë“œ:
      - _id (ObjectId, ìë™ ìƒì„±)
      - name, email, password
      - subscription ('free' | 'premium' | 'pro')
      - socialLogin: { provider, providerId }
      - preferences: { transportMode, preferredCategories, maxDistance }
      - analytics: { totalMeetings, totalVotes, loginHistory, featureUsage }
   ğŸ“ˆ ì¸ë±ìŠ¤: email (unique)

ğŸ—³ï¸ **Vote ì»¬ë ‰ì…˜** (íˆ¬í‘œ ë°ì´í„°)
   ğŸ”‘ ì£¼ìš” í•„ë“œ:
      - meetingId (String)
      - placeId, placeName
      - voter: { id, name, email }
      - votedAt
   ğŸ“ˆ ì¸ë±ìŠ¤: 
      - meetingId
      - meetingId + voter.id (unique)

ğŸ“ **CandidatePlace ì»¬ë ‰ì…˜** (í›„ë³´ ì¥ì†Œ)
   ğŸ”‘ ì£¼ìš” í•„ë“œ:
      - meetingId (String)
      - placeId, name, category, address
      - coordinates: { lat, lng }
      - rating, photos[], additionalInfo
      - addedBy: { id, name, email }
   ğŸ“ˆ ì¸ë±ìŠ¤:
      - meetingId
      - meetingId + placeId (unique)

ğŸ“ **Meeting ì»¬ë ‰ì…˜** (ë¯¸íŒ… ì •ë³´)
   ğŸ”‘ ì£¼ìš” í•„ë“œ:
      - organizer (ObjectId â†’ User)
      - participants[]: { user, location, preferences, status }
      - suggestedLocations[], selectedLocation
      - scheduledDate, status
   ğŸ“ˆ ì¸ë±ìŠ¤: organizer, participants.user

ğŸ“ˆ **UserMeetingHistory ì»¬ë ‰ì…˜** (ì‚¬ìš©ì ë¯¸íŒ… íˆìŠ¤í† ë¦¬)
   ğŸ”‘ ì£¼ìš” í•„ë“œ:
      - userId (String)
      - meetingId, title, description, role
      - selectedPlace, candidatePlaces[]
      - meetingStatus, selectionMethod
      - participantCount, totalVotes
   ğŸ“ˆ ì¸ë±ìŠ¤:
      - userId
      - userId + createdAt
      - userId + meetingId (unique)

ğŸ¯ **SelectionEvent ì»¬ë ‰ì…˜** (ì„ ì • ì´ë²¤íŠ¸)
   ğŸ”‘ ì£¼ìš” í•„ë“œ:
      - meetingId (String)
      - participantId, participantName
      - selectedAt
   ğŸ“ˆ ì¸ë±ìŠ¤: meetingId

===============================================================================
                              6. ë°ì´í„° í”Œë¡œìš° ìš”ì•½
===============================================================================

ğŸ”„ **ì¼ë°˜ì ì¸ ë¯¸íŒ… ì§„í–‰ ê³¼ì •:**

1ï¸âƒ£ **ì‚¬ìš©ì ì¸ì¦**
   íšŒì›ê°€ì…/ë¡œê·¸ì¸ â†’ User ì»¬ë ‰ì…˜

2ï¸âƒ£ **ë¯¸íŒ… ì‹œì‘**
   ë¯¸íŒ… í”Œë˜ë„ˆ ì ‘ê·¼ â†’ Meeting ì»¬ë ‰ì…˜ (ì„ íƒì )

3ï¸âƒ£ **í›„ë³´ ì¥ì†Œ ìˆ˜ì§‘**
   ì¥ì†Œ ì¶”ê°€ â†’ CandidatePlace ì»¬ë ‰ì…˜

4ï¸âƒ£ **íˆ¬í‘œ ì§„í–‰**
   ì°¸ê°€ì ë“±ë¡ â†’ ë©”ëª¨ë¦¬/localStorage
   íˆ¬í‘œ â†’ Vote ì»¬ë ‰ì…˜

5ï¸âƒ£ **ê²°ê³¼ í™•ì •**
   ìµœì¢… ì¥ì†Œ ì„ íƒ â†’ UserMeetingHistory ì»¬ë ‰ì…˜

6ï¸âƒ£ **íˆìŠ¤í† ë¦¬ ê´€ë¦¬**
   ìƒíƒœ ë³€ê²½/ì‚­ì œ â†’ UserMeetingHistory ì»¬ë ‰ì…˜

===============================================================================
                              7. ì£¼ìš” íŠ¹ì§• ë° íŒ¨í„´
===============================================================================

ğŸ”„ **ë°ì´í„° ë™ê¸°í™” íŒ¨í„´:**
   - íˆ¬í‘œ ì‹œìŠ¤í…œ: ì‹¤ì‹œê°„ Socket.io + MongoDB ë°±ì—…
   - íˆìŠ¤í† ë¦¬: ë¹„ë™ê¸° ì €ì¥ (ì‚¬ìš©ì ê²½í—˜ ìš°ì„ )
   - í†µê³„: ì§‘ê³„ ì¿¼ë¦¬ í™œìš©

ğŸ›¡ï¸ **ë°ì´í„° ë¬´ê²°ì„±:**
   - ë³µí•© ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ë¡œ ì¤‘ë³µ ë°©ì§€
   - í•„ìˆ˜ í•„ë“œ ê²€ì¦
   - íŠ¸ëœì­ì…˜ ë¯¸ì‚¬ìš© (MongoDB ë‹¨ì¼ ë¬¸ì„œ ì›ìì„± í™œìš©)

âš¡ **ì„±ëŠ¥ ìµœì í™”:**
   - ì¸ë±ìŠ¤ ì„¤ê³„: ì¿¼ë¦¬ íŒ¨í„´ ê¸°ë°˜
   - í˜ì´ì§€ë„¤ì´ì…˜: skip/limit ë°©ì‹
   - ì§‘ê³„ íŒŒì´í”„ë¼ì¸: í†µê³„ ê³„ì‚°

ğŸ’¾ **ì €ì¥ ì „ëµ:**
   - ë¡œê·¸ì¸ ì‚¬ìš©ì: MongoDB ì €ì¥
   - ê²ŒìŠ¤íŠ¸: localStorage í™œìš©
   - í•˜ì´ë¸Œë¦¬ë“œ: í•„ìš”ì‹œ DB ë§ˆì´ê·¸ë ˆì´ì…˜

===============================================================================
                                8. ê°œì„  ê°€ëŠ¥ ì‚¬í•­
===============================================================================

ğŸ”§ **í˜„ì¬ ë¯¸êµ¬í˜„ ê¸°ëŠ¥:**
   - Meeting ì»¬ë ‰ì…˜ ì™„ì „ í™œìš© (í˜„ì¬ ë¶€ë¶„ì )
   - ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ
   - ë°ì´í„° ë¶„ì„ ëŒ€ì‹œë³´ë“œ

ğŸ“ˆ **ì„±ëŠ¥ ê°œì„  ê³ ë ¤ì‚¬í•­:**
   - Vote ì»¬ë ‰ì…˜ TTL ì¸ë±ìŠ¤ (ì˜¤ë˜ëœ íˆ¬í‘œ ìë™ ì‚­ì œ)
   - UserMeetingHistory íŒŒí‹°ì…”ë‹ (ì‚¬ìš©ìë³„ ìƒ¤ë”©)
   - ìºì‹± ë ˆì´ì–´ ì¶”ê°€ (Redis)

ğŸ›¡ï¸ **ë³´ì•ˆ ê°•í™”:**
   - API ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ ì™„ì „ ì ìš©
   - ì…ë ¥ ë°ì´í„° ê²€ì¦ ê°•í™”
   - ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´

===============================================================================

===============================================================================
                              9. ë‚ ì§œ/ì‹œê°„ ì²˜ë¦¬ ê°œì„ ì‚¬í•­
===============================================================================

ğŸ• **UTC â†’ í•œêµ­ì‹œê°„ ë³€í™˜ ì‹œìŠ¤í…œ êµ¬ì¶• ì™„ë£Œ**

ğŸ“Š **ë°ì´í„°ë² ì´ìŠ¤ ì •ì±…:**
   - ëª¨ë“  ë‚ ì§œ/ì‹œê°„: UTCë¡œ ì €ì¥ (êµ­ì œ í‘œì¤€ ì¤€ìˆ˜)
   - ì˜ˆì‹œ: 2025-06-21T02:29:15.121Z (UTC) = 2025ë…„ 6ì›” 21ì¼ ì˜¤ì „ 11:29 (í•œêµ­ì‹œê°„)

ğŸ¨ **í”„ë¡ íŠ¸ì—”ë“œ í‘œì‹œ:**
   - client/src/utils/dateUtils.js: ë‚ ì§œ ë³€í™˜ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
   - formatDate(): ê¸°ë³¸ í•œêµ­ì–´ í¬ë§· (ë…„ì›”ì¼ ì‹œë¶„)
   - formatRelativeTime(): ìƒëŒ€ ì‹œê°„ (5ë¶„ ì „, 2ì‹œê°„ ì „)
   - formatVoteTime(): íˆ¬í‘œ ì‹œê°„ìš© ê°„ë‹¨ í¬ë§·
   - formatLoginTime(): ë¡œê·¸ì¸ ê¸°ë¡ìš© ìƒì„¸ í¬ë§·

ğŸ”§ **ì ìš©ëœ ì»´í¬ë„ŒíŠ¸:**
   - client/src/components/MeetingHistory.js: íˆìŠ¤í† ë¦¬ ë‚ ì§œ í‘œì‹œ
   - client/src/components/GroupVoting.js: íˆ¬í‘œ ì‹œê°„ í‘œì‹œ  
   - client/src/pages/ProfilePage.js: ê°€ì…ì¼ í‘œì‹œ
   - client/src/components/DateTimeTest.js: í…ŒìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸ (ê°œë°œìš©)

âš¡ **ë¸Œë¼ìš°ì € ìë™ ê°ì§€:**
   - JavaScript Date.toLocaleDateString('ko-KR') í™œìš©
   - ì‚¬ìš©ì ë¸Œë¼ìš°ì € ë¡œì¼€ì¼ ìë™ ì ìš©
   - ë³„ë„ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± ì—†ìŒ

ğŸ§ª **í…ŒìŠ¤íŠ¸ í˜ì´ì§€:**
   - /date-test: UTC â†” í•œêµ­ì‹œê°„ ë³€í™˜ í™•ì¸ í˜ì´ì§€

===============================================================================

ğŸ“ **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2024ë…„ (UTC â†’ í•œêµ­ì‹œê°„ ë³€í™˜ ì‹œìŠ¤í…œ ì¶”ê°€)
ğŸ” **ë¶„ì„ ë²”ìœ„**: ì „ì²´ í”„ë¡ íŠ¸ì—”ë“œ ì»´í¬ë„ŒíŠ¸ + ë°±ì—”ë“œ ë¼ìš°í„° + ë°ì´í„° ëª¨ë¸ + ì‹œê°„ëŒ€ ì²˜ë¦¬
âœ… **ë¶„ì„ ì™„ë£Œ**: ì£¼ìš” ì‚¬ìš©ì í”Œë¡œìš°ì˜ ëª¨ë“  ë²„íŠ¼-API-í…Œì´ë¸” ë§¤í•‘ ê´€ê³„ + ë‚ ì§œ ì‹œê°„ í‘œì‹œ ê°œì„ 

=============================================================================== 